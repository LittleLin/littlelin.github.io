<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>åœ¨ Mac ä¸‹æ¶è¨­ MySQL Server ä¸¦å•Ÿç”¨ SSL åŠ å¯†åŠŸèƒ½ | Linson&#39;s Note</title>

  
  <meta name="author" content="LittleLin">
  

  
  <meta name="description" content="æŠ€è¡“,éš¨ç­†,é›œè¨˜">
  

  
  
  <meta name="keywords" content="Mac,MySQL,SSL,TLS">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="åœ¨ Mac ä¸‹æ¶è¨­ MySQL Server ä¸¦å•Ÿç”¨ SSL åŠ å¯†åŠŸèƒ½">

  <meta property="og:site_name" content="Linson&#39;s Note">

  
  <meta property="og:image" content="/favicon.ico">
  

  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Linson&#39;s Note" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Linson&#39;s Note</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">é¦–é </a></li>
      
        <li><a href="/archives">æ–‡ç« æ­¸æª”</a></li>
      
        <li><a href="/about">é—œæ–¼æˆ‘</a></li>
      
        <li><a href="/atom.xml">RSS è¨‚é–±</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>åœ¨ Mac ä¸‹æ¶è¨­ MySQL Server ä¸¦å•Ÿç”¨ SSL åŠ å¯†åŠŸèƒ½</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/03/25/mysql-server-with-ssl-on-mac/" rel="bookmark">
        <time class="entry-date published" datetime="2018-03-25T12:15:17.000Z">
          2018-03-25
        </time>
      </a>
    </span>
  </div>

  

  <div class="article-content">
    <div class="entry">
      
        <h2><span id="èªªæ˜">èªªæ˜</span></h2><p>æœ€è¿‘å› ç‚ºå·¥ä½œæ‰€éœ€ï¼Œéœ€è¦ä½¿ç”¨ .NET é€£æ¥ MySQL Serverã€‚è€Œä¸çŸ¥é“ç‚ºä»€éº¼åœ¨ .NET ä¸‹ï¼Œä½¿ç”¨ SSL åŠ å¯†åŠŸèƒ½é€£æ¥ MySQL ç¸½æ˜¯æœƒæœ‰å•é¡Œã€‚æƒ³æƒ³é‚„æ˜¯è‡ªå·±æ¶è¨­ä¸€å° MySQL æ¸¬è©¦æ©Ÿåšç‚ºå°ç…§çµ„ï¼Œçœ‹ä¾†èƒ½ä¸èƒ½æ‰¾å‡ºå•é¡Œçš„åŸå› ã€‚</p>
<p>æœ¬ç¯‡ç‚º Mac ç’°å¢ƒä¸‹æ¶è¨­ MySQL Server çš„æ­¥é©Ÿæ•´ç†ã€‚</p>
<a id="more"></a>

<h2><span id="ç›®éŒ„">ç›®éŒ„</span></h2><!-- toc -->

<ul>
<li><a href="#ä¸€-mysql-server-å®‰è£">ä¸€ã€MySQL Server å®‰è£</a><ul>
<li><a href="#1-å®‰è£-homebrew">1. å®‰è£ Homebrew</a></li>
<li><a href="#2-å®‰è£-mysql-server">2. å®‰è£ MySQL Server</a></li>
<li><a href="#3-å®‰è£-homebrew-services">3. å®‰è£ Homebrew Services</a></li>
</ul>
</li>
<li><a href="#äºŒ-è¨­å®šä¸¦é–‹å•“-mysql-server-åŠ å¯†é€£ç·šåŠŸèƒ½">äºŒã€è¨­å®šä¸¦é–‹å•“ MySQL Server åŠ å¯†é€£ç·šåŠŸèƒ½</a><ul>
<li><a href="#1-ç”¢ç”Ÿ-mysql-server-æ‰€éœ€æ†‘è¨¼">1. ç”¢ç”Ÿ MySQL Server æ‰€éœ€æ†‘è¨¼</a></li>
<li><a href="#2-ç·¨è¼¯-mysql-è¨­å®šæª”-mycnf">2. ç·¨è¼¯ MySQL è¨­å®šæª” my.cnf</a></li>
<li><a href="#3-æª¢æŸ¥-mysql-çš„-ssl-è¨­å®š">3. æª¢æŸ¥ MySQL çš„ SSL è¨­å®š</a></li>
</ul>
</li>
<li><a href="#ä¸‰-ç¢ºèª-mysql-çš„-ssl-è¨­å®šæœ‰æ•ˆ">ä¸‰ã€ç¢ºèª MySQL çš„ SSL è¨­å®šæœ‰æ•ˆ</a></li>
<li><a href="#references">References</a></li>
</ul>
<!-- tocstop -->

<h2><span id="ä¸€-mysql-server-å®‰è£">ä¸€ã€MySQL Server å®‰è£</span></h2><h3><span id="1-å®‰è£-homebrew">1. å®‰è£ Homebrew</span></h3><p>åƒè€ƒ <a href="https://brew.sh/index_zh-tw" target="_blank" rel="noopener">Homebirew å®˜ç¶²</a> çš„èªªæ˜ï¼Œä½¿ç”¨ä»¥ä¸‹ script é€²è¡Œå®‰è£ï¸°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="2-å®‰è£-mysql-server">2. å®‰è£ MySQL Server</span></h3><p>åœ¨å®‰è£ Homebrew å¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥é€éå®ƒä¾†å®‰è£ MySQL äº†ã€‚æŒ‡ä»¤å¦‚ä¸‹ï¸°</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install mysql</span><br></pre></td></tr></table></figure>

<p>åœ¨å®‰è£å®Œå¾Œï¼Œå¯ä»¥åŸ·è¡Œ <code>mysql_secure_installation</code> æŒ‡ä»¤ä¾†é€²è¡Œåƒé‡è¨­ root å¯†ç¢¼ã€é—œé–‰ root é ç«¯ç™»å…¥ç­‰å®‰å…¨æ€§è¨­å®šã€‚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysql_secure_installation</span><br></pre></td></tr></table></figure>

<h3><span id="3-å®‰è£-homebrew-services">3. å®‰è£ Homebrew Services</span></h3><p><a href="https://github.com/Homebrew/homebrew-services" target="_blank" rel="noopener">Homebrew Services</a> æ˜¯ Homebrew ä¸‹ä¸€å€‹å¾ˆå¥½ç”¨çš„å·¥å…·ï¼Œå®‰è£å®ƒä¹‹å¾Œï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨ Homebrew ç‚ºæˆ‘å€‘å•“å‹•æˆ–é—œé–‰åƒ MySQLã€Tomcat é€™æ¨£çš„daemon æœå‹™ã€‚æœ‰èˆˆè¶£çš„æœ‹å‹å¯ä»¥è®€è®€ <a href="https://robots.thoughtbot.com/starting-and-stopping-background-services-with-homebrew" target="_blank" rel="noopener">Starting and Stopping Background Services with Homebrew</a> é€™ç¯‡ä»‹ç´¹æ–‡ï¼Œæœƒå°å®ƒæ›´æ·±åˆ»çš„äº†è§£ã€‚</p>
<p>ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤é€²è¡Œå®‰è£ (<code>brew tap</code> è¡¨ç¤ºè¦æŠ“å–ç¬¬ä¸‰æ–¹ repo ä¸‹çš„ homebrew å¤–æ›ï¼Œè©³æƒ…å¯ä»¥çœ‹çœ‹ <a href="https://docs.brew.sh/Taps" target="_blank" rel="noopener">Homebrew Taps</a> å®˜ç¶²ä¸Šçš„ä»‹ç´¹ï¼Œé€™è£¡ä¹Ÿå°±ä¸å†å±•é–‹èªªæ˜)ï¸°</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew tap homebrew/services</span><br></pre></td></tr></table></figure>

<p>åœ¨ Homebrew Services å®‰è£æˆåŠŸå¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ï¼Œä¾†å•“å‹•æˆ–é—œé–‰ MySQL Server äº†ï¼Œéå¸¸çš„æ–¹ä¾¿ã€‚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ brew services start mysql // å•“å‹•</span><br><span class="line">$ brew services stop mysql // é—œé–‰</span><br><span class="line">$ brew services stop mysql // é‡å•“</span><br></pre></td></tr></table></figure>

<h2><span id="äºŒ-è¨­å®šä¸¦é–‹å•“-mysql-server-åŠ å¯†é€£ç·šåŠŸèƒ½">äºŒã€è¨­å®šä¸¦é–‹å•“ MySQL Server åŠ å¯†é€£ç·šåŠŸèƒ½</span></h2><h3><span id="1-ç”¢ç”Ÿ-mysql-server-æ‰€éœ€æ†‘è¨¼">1. ç”¢ç”Ÿ MySQL Server æ‰€éœ€æ†‘è¨¼</span></h3><p>åœ¨å•“ç”¨ MySQL çš„ SSL åŠ å¯†åŠŸèƒ½å‰ï¼Œæˆ‘å€‘éœ€è¦å…ˆç”¢ç”Ÿ Server éœ€è¦çš„æ†‘è¨¼(Certificate) èˆ‡é‡‘é‘°(Key) æª”ã€‚</p>
<p>æˆ‘å€‘é è¨ˆåœ¨ <code>/usr/local/etc/mysql/certs</code> ç›®éŒ„ä¸‹ï¼Œå»ºç«‹ç›¸é—œæª”æ¡ˆã€‚æ­¥é©Ÿæ•´ç†å¦‚ä¸‹ (åƒè€ƒ MySQL å®˜ç¶² <a href="https://dev.mysql.com/doc/refman/5.7/en/creating-ssl-files-using-openssl.html#creating-ssl-files-using-openssl-unix-command-line" target="_blank" rel="noopener">Creating SSL Certificates and Keys Using openssl</a> èªªæ˜æ–‡ä»¶)ï¸°</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -p /usr/<span class="built_in">local</span>/etc/mysql/certs</span><br><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/etc/mysql/certs</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹ CA æ†‘è¨¼</span></span><br><span class="line">$ mkdir CA;<span class="built_in">cd</span> CA</span><br><span class="line">$ <span class="built_in">cd</span> CA</span><br><span class="line">$ openssl genrsa 2048 &gt; ca-key.pem</span><br><span class="line">$ openssl req -new -x509 -nodes -days 3600 \</span><br><span class="line">        -key ca-key.pem -out ca.pem</span><br><span class="line"><span class="comment"># å»ºç«‹ Server ç«¯æ‰€éœ€æ†‘è¨¼</span></span><br><span class="line">$ <span class="built_in">cd</span> ../</span><br><span class="line">$ mkdir Server; <span class="built_in">cd</span> Server</span><br><span class="line">$ openssl req -newkey rsa:2048 -days 3600 \</span><br><span class="line">        -nodes -keyout server-key.pem -out server-req.pem</span><br><span class="line">$ openssl rsa -<span class="keyword">in</span> server-key.pem -out server-key.pem    $ openssl x509 -req -<span class="keyword">in</span> server-req.pem -days 3600 \</span><br><span class="line">        -CA ../CA/ca.pem -CAkey ../CA/ca-key.pem -set_serial 01 -out server-cert.pem    </span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹ Client ç«¯æ‰€éœ€æ†‘è¨¼</span></span><br><span class="line">$ <span class="built_in">cd</span> ..</span><br><span class="line">$ mkdir Client; <span class="built_in">cd</span> Client</span><br><span class="line">$ openssl req -newkey rsa:2048 -days 3600 \</span><br><span class="line">        -nodes -keyout client-key.pem -out client-req.pem</span><br><span class="line">$ openssl rsa -<span class="keyword">in</span> client-key.pem -out client-key.pem</span><br><span class="line">$ openssl x509 -req -<span class="keyword">in</span> client-req.pem -days 3600 \</span><br><span class="line">        -CA ../CA/ca.pem -CAkey ../CA/ca-key.pem -set_serial 01 -out client-cert.pem</span><br></pre></td></tr></table></figure>

<p>åœ¨åŸ·è¡Œä¸Šè¿°æ­¥é©Ÿå¾Œï¼Œæˆ‘å€‘å¯ä»¥åŸ·è¡Œ <code>tree</code> æŒ‡ä»¤çœ‹çœ‹ <code>/usr/local/etc/mysql/certs</code> çš„ç›®éŒ„çµæ§‹ (å¦‚æœç³»çµ±èªªæ‰¾ä¸åˆ° <code>tree</code> æŒ‡ä»¤çš„è©±ï¼Œä¸€æ¨£å¯ä»¥ä½¿ç”¨ <code>brew install tree</code> æŒ‡ä»¤é€²è¡Œå®‰è£)ï¸°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ cd /usr/local/etc/mysql/certs</span><br><span class="line">$ tree</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ CA</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ca-key.pem</span><br><span class="line">â”‚Â Â  â””â”€â”€ ca.pem</span><br><span class="line">â”œâ”€â”€ Client</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ client-cert.pem</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ client-key.pem</span><br><span class="line">â”‚Â Â  â””â”€â”€ client-req.pem</span><br><span class="line">â””â”€â”€ Server</span><br><span class="line">    â”œâ”€â”€ server-cert.pem</span><br><span class="line">    â”œâ”€â”€ server-key.pem</span><br><span class="line">    â””â”€â”€ server-req.pem</span><br><span class="line"></span><br><span class="line">3 directories, 8 files</span><br></pre></td></tr></table></figure>

<h3><span id="2-ç·¨è¼¯-mysql-è¨­å®šæª”-mycnf">2. ç·¨è¼¯ MySQL è¨­å®šæª” my.cnf</span></h3><p>åœ¨ç”¢ç”Ÿå®Œæ†‘è¨¼èˆ‡é‡‘é‘°æª”å¾Œï¼Œæˆ‘å€‘å¯ä»¥ç·¨è¼¯ MySQL è¨­å®šæª” <code>/usr/local/etc/my.cnf</code>ï¼Œå•“å‹• SSL ç›¸é—œè¨­å®šï¼Œmy.cnf æª”æ¡ˆä¸‹é—œæ–¼ SSL çš„è¨­å®šæ®µè½å¦‚ä¸‹ï¸°</p>
<p>è£œå……èªªæ˜ï¸°ä½ å¯ä»¥é€é <code>mysqld --help --verbose</code> æŒ‡ä»¤ï¼ŒçŸ¥é“ MySQL Server æŸ¥æ‰¾ <code>my.cnf</code> è¨­å®šæª”çš„è·¯å¾‘ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line"># ...</span><br><span class="line"># SSL</span><br><span class="line">ssl-ca=/usr/local/etc/mysql/certs/CA/ca.pem</span><br><span class="line">ssl-cert=/usr/local/etc/mysql/certs/Server/server-cert.pem</span><br><span class="line">ssl-key=/usr/local/etc/mysql/certs/Server/server-key.pem</span><br></pre></td></tr></table></figure>

<p>åœ¨è¨­å®šå®Œæˆå¾Œï¼Œæˆ‘å€‘éœ€è¦é‡å•“ MySQL Serverï¸°</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew services restart mysql</span><br></pre></td></tr></table></figure>

<h3><span id="3-æª¢æŸ¥-mysql-çš„-ssl-è¨­å®š">3. æª¢æŸ¥ MySQL çš„ SSL è¨­å®š</span></h3><p>åœ¨æœå‹™é‡å•“å¾Œï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ root å¸³è™Ÿç™»å…¥ï¼Œç¢ºå®š MySQL Server æœ‰æ­£ç¢ºå•“ç”¨ SSL ç›¸é—œè¨­å®šï¸°</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -u root -p</span><br></pre></td></tr></table></figure>

<p>åœ¨ç™»å…¥ MySQL å¾Œï¼Œå¯ä»¥ä½¿ç”¨ <code>SHOW VARIABLES LIKE &#39;%ssl%&#39;;</code> æŒ‡ä»¤ï¼Œä»¥é¡¯ç¤º Server ç›®å‰çš„ SSL ç›¸é—œè¨­å®šï¸°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SHOW VARIABLES LIKE &apos;%ssl%&apos;;</span><br><span class="line">+---------------+---------------------------------------------------+</span><br><span class="line">| Variable_name | Value                                             |</span><br><span class="line">+---------------+---------------------------------------------------+</span><br><span class="line">| have_openssl  | YES                                               |</span><br><span class="line">| have_ssl      | YES                                               |</span><br><span class="line">| ssl_ca        | /usr/local/etc/mysql/certs/CA/ca.pem              |</span><br><span class="line">| ssl_capath    |                                                   |</span><br><span class="line">| ssl_cert      | /usr/local/etc/mysql/certs/Server/server-cert.pem |</span><br><span class="line">| ssl_cipher    |                                                   |</span><br><span class="line">| ssl_crl       |                                                   |</span><br><span class="line">| ssl_crlpath   |                                                   |</span><br><span class="line">| ssl_key       | /usr/local/etc/mysql/certs/Server/server-key.pem  |</span><br><span class="line">+---------------+---------------------------------------------------+</span><br><span class="line">9 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¨­å®šæ²’æœ‰ä»»ä½•éŒ¯èª¤çš„è©±ï¼Œæ‡‰è©²å¯ä»¥çœ‹åˆ° <code>have_openssl</code> èˆ‡ <code>have_ssl</code> è¨­å®šå€¼éƒ½è¢«æ¨™å®šç‚º <code>YES</code>ï¼Œè€Œç›¸é—œæ†‘è¨¼èˆ‡é‡‘é‘°æª”è·¯å¾‘ä¹Ÿæ­£ç¢ºã€‚</p>
<h2><span id="ä¸‰-ç¢ºèª-mysql-çš„-ssl-è¨­å®šæœ‰æ•ˆ">ä¸‰ã€ç¢ºèª MySQL çš„ SSL è¨­å®šæœ‰æ•ˆ</span></h2><p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨ MySQL å…§å»ºçš„é€£ç·šæŒ‡ä»¤ <code>mysql</code>ï¼Œç¢ºèªä¸Šé¢æˆ‘å€‘åšçš„ SSL è¨­å®šæ˜¯å¦æœ‰æ•ˆã€‚æˆ‘å€‘å…ˆä¸ç‰¹åˆ¥æŒ‡å®š SSL é€£ç·šç›¸é—œåƒæ•¸ï¼Œçœ‹çœ‹æ­¤æ™‚æœƒç”¨ä»€éº¼æ–¹å¼é€²è¡Œé€£ç·šï¸°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -u root -p</span><br><span class="line">mysql&gt; status</span><br><span class="line">--------------</span><br><span class="line">mysql  Ver 14.14 Distrib 5.7.21, for osx10.13 (x86_64) using  EditLine wrapper</span><br><span class="line"></span><br><span class="line"># ç•¥...</span><br><span class="line">SSL:			Not in use</span><br><span class="line"># ç•¥...</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å¦‚æœåœ¨ Client ç«¯ä¸ç‰¹åˆ¥æŒ‡å®šçš„è©±ï¼Œé è¨­å°±æ˜¯ä¸ä½¿ç”¨ SSLï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨æœªåŠ å¯†çš„æ–¹å¼é€£æ¥åˆ° MySQL Serverã€‚</p>
<p>é€™æ™‚å€™æˆ‘å€‘å¯ä»¥åœ¨ Client ç«¯æ”¹ç”¨ SSL æ–¹å¼é€²è¡Œé€£ç·šï¸°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ mysql --ssl-mode=REQUIRED --ssl-ca=/usr/local/etc/mysql/certs/CA/ca.pem --ssl-cert=/usr/local/etc/mysql/certs/Client/client-cert.pem --ssl-key=/usr/local/etc/mysql/certs/Client/client-key.pem -u root -p</span><br><span class="line">mysql&gt; status</span><br><span class="line">--------------</span><br><span class="line">mysql  Ver 14.14 Distrib 5.7.21, for osx10.13 (x86_64) using  EditLine wrapper</span><br><span class="line"></span><br><span class="line"># ç•¥...</span><br><span class="line">SSL:			Cipher in use is DHE-RSA-AES128-GCM-SHA256</span><br><span class="line"># ç•¥...</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° SSL é€™ä¸€è¡Œç”± <code>Not in use</code> æ”¹ç‚ºé¡¯ç¤ºç›®å‰æ­£ä½¿ç”¨çš„ Cipher æ¼”ç®—æ³•ã€‚</p>
<p>åˆ°æ­¤è™•ï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°æˆ‘å€‘çš„ MySQL SSL è¨­å®šå·²ç¶“ç„¡èª¤ï¼Œå¯ä»¥åšå¾ŒçºŒçš„é–‹ç™¼æ¸¬è©¦ä½¿ç”¨äº†ã€‚</p>
<h2><span id="references">References</span></h2><ul>
<li><a href="https://dev.mysql.com/doc/refman/5.7/en/using-encrypted-connections.html#using-encrypted-connections-client-side-configuration" target="_blank" rel="noopener">Configuring MySQL to Use Encrypted Connections</a></li>
<li><a href="https://dev.mysql.com/doc/refman/5.7/en/encrypted-connection-options.html#option_general_ssl-key" target="_blank" rel="noopener">Command Options for Encrypted Connections</a></li>
<li><a href="http://xmodulo.com/enable-ssl-mysql-server-client.html" target="_blank" rel="noopener">How to enable SSL for MySQL server and client</a></li>
<li><a href="https://gist.github.com/nrollr/3f57fc15ded7dddddcc4e82fe137b58e" target="_blank" rel="noopener">Install MySQL on macOS Sierra</a></li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Mac/">Mac</a><a href="/tags/MySQL/">MySQL</a><a href="/tags/SSL/">SSL</a><a href="/tags/TLS/">TLS</a>
    </span>
    

    </div>

    
  </div>
</article>

  
	<section id="comments" class="comment">
	  <div id="disqus_thread">
	  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	  </div>
	</section>

	<script type="text/javascript">
	var disqus_shortname = 'littlelin';
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	</script>





    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2019 LittleLin
    
  </p>
</footer>
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-160596-11', 'auto');
    ga('send', 'pageview');

</script>

  </div>
</div>
</body>
</html>